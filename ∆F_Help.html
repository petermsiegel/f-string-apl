<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>‚àÜF Formatted String Literals</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!-- 
   ‚àÜF Help function Header  -- PMS Style and Javascript 
  -->

  <style>
  /* ======================================================== */
  /* Special styles for PMS attributes */

  /* A fancy text box class */
    .pMarquee {  
      width: 100%; /* ..% of the viewport width */
      font-size: 105%;
      text-align: center; /* justify; */
      line-height: 1.2;
      color: white;
      background-color: #062f7c;
      border: 1px solid white;
      box-shadow: 0 0 0 2px #062f7c;
      border-width: 3px;
      padding: 0px 15px ; 
      box-sizing: border-box; /* Includes padding and border within the defined width/height */
    }

  /* <details><pSummary>  */  
    details > summary {
       list-style-type: '‚ñ∂Ô∏è';  
    }
    details summary::marker {
      color: darkgreen;
      opacity: 1;
    }
    details[open] > summary {
      color: darkgreen;
      opacity: 0.3;  
      list-style-type: 'üîΩ';  
    }
    .summary {
        margin: 0px;
    }

  /* For red things! */
    .red {
      color: red;
    }

  /* for <pNote> margin notes (side notes  */
    .margin-note {
      font-family: Tahoma, sans-serif;
      float: right; /* Aligns the note to the right */
      width: 220px; 
  /*  The negative margin-right value should be at least equal to the width of the note */
      margin-right: -300px; /* Shifts the note out of the main content flow */
      font-size: 0.70em;    /* Adjust font size for readability */
      line-height: 1.2;     /* Adjust line height for readability */
      margin-bottom: 10px;
      text-align: justify;
      clear: right; /* Ensures the note doesn't overlap with other floated elements */
    }
  /* For the line separating main text from the margin notes */
    .right-margin-bar {  
      border-right: 2px solid rgb(244, 230, 227); /* Adjust color and thickness as needed */
      padding-right: 55px; /* Space between the bar and content */
      margin-right: 55px;  /* Optional: Space from the right edge of the page */
      height: auto; /* Or set a fixed height, *e.g.*, 200px */
      /* overflow: hidden; Do not use w/ margin notes. */
    }
  /* Suppress margin notes if screen is narrow (1000 px or less) */
     @media screen and (max-width: 1000px) {  
        body {
          width: 100%;
        }
        .margin-note {
          width: 0px;
          margin-right: 0px;
          visibility: hidden;
        }
        .right-margin-bar{
          overflow: hidden;  
        }
      }

    /* For links you don't want followed outside the Help html*-- a msg appears instead.
       See <pLink>...</pLink>                         * bc you can't get back!
    */
      .linkNote { /* Actual link */
          font-size: 20px;
      }

  /* ======================================================== */
  /* Regular markdown styles follow */

  /* The main body style */
   body {
      background-color:#fffef4;  /* Off-white */
      font-family: Georgia, serif;
      font-size:   15pt;
      text-align: justify;
      padding: 1% 4%;
      margin-left: 25px;
      margin-right: 175px;
      margin-bottom: 0.5in;
      max-width: 1200px; /* Sets a maximum width */
    }

  /* For document title, passed via pandoc */
    .title { 
        text-align: center; margin: 5px 10px;
     }

  /* Inline code */
    code { 
      font-size: 88%;
      background-color: #ddfafaff;
      padding: 2px 4px;
      border-radius: 3px;
      font-family: "APL386 Unicode", APL386, "APL385 Unicode", APL385,
        "Courier New", Courier, Lucida Console", "Consolas", monospace;
    }

  /* Code blocks */
    pre { 
      background-color: #ddfafaff;
      color: #0a0a0aff;
      font-size: 13pt;
      line-height: 110%;
      padding: 15px;
      border-radius: 5px;
      overflow-x: auto;
      font-family: "APL386 Unicode", APL386, "APL385 Unicode", APL385,
          "Courier New", Courier, "Lucida Console", "Consolas", monospace;
    }

  /* Tables */
    table {
      background-color: #ffffffff;
      line-height: 1.1;
      font-size: 100%;
      border: 2px solid #210074ff;
      vertical-align: top;
      font-family: "APL386 Unicode", APL386, "APL385 Unicode", APL385,
          "Courier New", Courier, "Lucida Console", "Consolas", monospace;
    }
    th { /* Table header */
      font-family:  Georgia,"Courier New", Courier, "Lucida Console", "Consolas", monospace;
      font-weight: 900;
      line-height: 1.1;
      padding: 7px 7px;
      vertical-align: top;
      background-color: #25027eff;
      color: #ffffffff;
    }
    td { /* Table data */
      font-family: Georgia,"Courier New", Courier, "Lucida Console", "Consolas", monospace;
      font-weight: 200;
      padding: 5px 7px;
      vertical-align: top;
    }
    tr:nth-child(odd) {
      background-color: #ebebebff; /* Light grey for odd rows */
    }
    tr:nth-child(even) {
      background-color: #ffffffff; /* White for even rows */
    }
    blockquote {
      font-size: 110%;
      background-color: #f4f5f5ff;
    }
    ul, li {
      font-size: 100%;
      line-height: 140%;
    }

  /* # headers: Make h1 headers (#...) the same size as h2 (##...) */ 
    h1 { 
    font-size: 1.5em;   
    }

  /* links-- make them less obtrusive */
    a:link {         /* link not visited */
      color: black;   
      font-size: 1.1em;
      text-decoration-style: dotted; 
     }
    a:visited {      /* visited link */
       color:  darkolivegreen;  
    }
    a:hover {
      color: blue;
      transition: color 0.3s; /* font-size 2.0s ease; /* Smooth transition */
    }
    a:active {       /* selected link */
      color: red;
    }

  /* For features that aren't ready for prime time */
    .test-feature { /* Left red bar for ‚àÜF items being evaluated */
      border-left: 2px solid #ea2f0eff; /* Adjust color and thickness */
      padding-left: 15px;    /* Space between the bar and content */
      margin-left: 0px;      /* Optional: Space from the left edge of the page */
      height: auto;          /* Or set a fixed height, *e.g.*, 200px */
      /* Do not use overflow: hidden -- it clears floats like margin-notes */
    }

  /* For the fixed navigation footer we set up */
    .doc-footer {  
      position: fixed;
      font-size: 90%;
      left: 0;
      bottom: 0;
      width: 100%;
      background-color: #e7e7e7ff;
      color: black;
      text-align: center;
      padding: 6px 0;
    }

  /* Fixed size white on green button in navig footer */
    .happy-button { 
      width: 175px;
      font-size: 90%;
      color: white;
      background-color: rgb(43, 122, 61);
    }

  /* Fixed size white on red button in navig footer */
    .warn-button { 
      width: 175px;
      font-size: 90%;
      color: white; 
      background-color: red;
    }


  /* For updating user on page resizing, etc. 
     See JS code
  */
    .pAlertMsg { 
      display: none;
      position: fixed;
      text-align: center;
      top: 50%; left: 40%; transform: translate(-50%, -50%);
      color: black; background-color: #E9DCC9;
      padding: 5px; border: 10px double black;
    }
  </style>

  <script>
  //  Handle Expand/Collapse button at bottom of Help page 
    document.addEventListener('DOMContentLoaded', () => {
      const toggleButton = document.getElementById('toggleDetails');
      
      toggleButton.addEventListener('click', () => {
        // Select all <details> elements that do NOT have the pPeek id (id="pPeek").
        const detailsToToggle = document.querySelectorAll('details:not(#pPeek)');
        
        // Check if the button should expand or collapse
        // This example toggles based on the current text of the button
        const isExpanding = toggleButton.textContent.includes('Expand');
        
        detailsToToggle.forEach(detail => {
          if (isExpanding) {
            // Expand the details element by adding the 'open' attribute
            detail.setAttribute('open', '');
          } else {
            // Collapse the details element by removing the 'open' attribute
            detail.removeAttribute('open');
          }
        });
        // Update the button text
        if (isExpanding) {
          toggleButton.textContent = 'Collapse All Sections';
        } else {
          toggleButton.textContent = 'Expand   All Sections';
        }
      });
    });


  // Close the Help window
  // - for the Close Window button at bottom of Help page
    function closeWindowNow() {
      showAlert("Closing Window...", 1000, 1);
      setTimeout(window.close, 1000);
    }

  // Informational Alert 
  // showAlert( text, howLong in ms to show, urgent)
  // urgent: 1= show ‚ö†Ô∏è; 0= show ‚ÑπÔ∏è  
    function showAlert(displayMe, howLong, urgent) {
        var alertBox = document.getElementById("pAlertMsg");
        var alertPfx = document.getElementById("pAlertPfx");
        var alertTxt = document.getElementById("pAlertText");
        alertBox.style.display = "block"; // Show the alert
        if (urgent==1) {
          alertPfx.textContent = "‚ö†Ô∏è ";
        } else {
          alertPfx.textContent = "‚ÑπÔ∏è ";
        }
        alertTxt.textContent = displayMe;
        // Set a timeout to hide the alert after <howLong> milliseconds  
        setTimeout(function() {
            alertBox.style.display = "none"; // Hide the alert
        }, howLong);
    }
    function linkAlert(){
        showAlert("Use regular browser to explore link.", 2000, 1);
    }

  // Listener for narrow/wide text
  // (triggered when text crosses width boundary specified) 
    const mediaQuery = window.matchMedia('(max-width: 1000px)');
    mediaQuery.addEventListener('change', (event) => {
        if (event.matches) {
            showAlert("Omitting Margin Notes...", 2000, 1);
        } else {
            showAlert("Showing Margin Notes...", 2000, 0);
        }
    });


    // Listener for copy: Cmd-C, Meta-C; quit: Cmd-Q, Meta-Q
    document.addEventListener('keydown', (event) => {
    // Check for a specific key combination, e.g., Ctrl + C (event.ctrlKey || 
      if (event.ctrlKey || event.metaKey) {
        if (event.key === 'c'){ // We can't seem to copy onto clipboard directly
          showAlert("To copy, right-click and select the copy option.", 1500, 1);
        } else if (event.key === 'q') {
          closeWindowNow();  
        }
      }
    });


  // (C) 2025 Sam the Cat Foundation 
  </script>

</head>
<body>
<header id="title-block-header">
<h1 class="title">‚àÜF Formatted String Literals</h1>
</header>
<div class="right-margin-bar"> 
<div class="pMarquee">

<p><em><strong>‚àÜF</strong></em> is a function for <em>Dyalog</em> APL
that interprets <em>f‚Äëstrings</em>, a concise, yet powerful way to
display multiline APL text, arbitrary APL expressions, and
multi¬≠dimensional objects using extensions to <em>dfns</em> and other
familiar tools.</p>
</div>

<h1 data-number="1" id="table-of-contents"><span
class="header-section-number">1</span> Table of Contents</h1>
<details id="TOC">     <!-- option: open  Set id="TOC" here only. -->
<summary class="summary">&ensp;Show/Hide <em>Table of Contents</em></summary>
<span style="font-size:75%;">

<ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#installing-and-running-f-in-dyalog-apl">Installing and
Running <strong>‚àÜF</strong> in Dyalog APL</a>
<ul>
<li><a href="#installing-f">Installing <strong>‚àÜF</strong></a></li>
<li><a href="#running-f-after-its-been-installed">Running
<strong>‚àÜF</strong> (After It's Been Installed)</a></li>
</ul></li>
<li><a href="#overview">Overview</a></li>
<li><a href="#displaying-f-help-in-apl">Displaying ‚àÜF
<strong>Help</strong> in APL</a></li>
<li><a href="#f-examples-a-primer">‚àÜF Examples: A Primer</a>
<ul>
<li><a href="#code-fields">Code Fields</a></li>
<li><a href="#text-fields-and-space-fields">Text Fields and Space
Fields</a></li>
<li><a href="#null-space-fields">Null Space Fields</a></li>
<li><a href="#code-fields-continued">Code Fields (Continued)</a></li>
<li><a href="#the-box-shortcut">The Box Shortcut</a></li>
<li><a href="#box-mode">Box Mode</a></li>
<li><a href="#omega-shortcuts-explicit">Omega Shortcuts
(Explicit)</a></li>
<li><a href="#referencing-the-fstring-itself">Referencing the f‚Äëstring
Itself</a></li>
<li><a href="#the-format-shortcut">The Format Shortcut</a></li>
<li><a href="#the-shortcut-for-numeric-commas">The Shortcut for Numeric
Commas</a></li>
<li><a href="#self-documenting-code-fields-sdcfs">Self-documenting
<strong>Code</strong> fields (SDCFs)</a></li>
<li><a href="#the-above-shortcut">The Above Shortcut</a></li>
<li><a href="#text-justification-shortcut">Text Justification
Shortcut</a></li>
<li><a href="#omega-shortcuts-implicit">Omega Shortcuts
(Implicit)</a></li>
<li><a href="#shortcuts-with-individual-expressions">Shortcuts With
Individual Expressions</a></li>
<li><a href="#a-shortcut-for-dates-and-times-part-i">A Shortcut for
Dates and Times (Part I)</a></li>
<li><a href="#a-shortcut-for-dates-and-times-part-ii">A Shortcut for
Dates and Times (Part II)</a></li>
<li><a href="#the-quote-shortcut">The Quote Shortcut</a></li>
<li><a href="#the-wrap-shortcut-experimental">The Wrap Shortcut
(Experimental)</a></li>
<li><a href="#precomputed-fstrings-with-the-dfn-option">Precomputed
f‚Äëstrings with the <em><strong>DFN</strong></em> Option</a></li>
</ul></li>
<li><a href="#f-syntax-and-other-information">‚àÜF Syntax and Other
Information</a>
<ul>
<li><a href="#f-call-syntax-overview">‚àÜF Call Syntax Overview</a></li>
<li><a href="#f-call-syntax-details">‚àÜF Call Syntax Details</a></li>
<li><a href="#f-options">‚àÜF Options</a></li>
<li><a href="#f-return-value">‚àÜF Return Value</a></li>
<li><a href="#f-fstring-building-blocks">‚àÜF F‚Äëstring Building
Blocks</a></li>
<li><a href="#code-field-shortcuts">Code Field Shortcuts</a></li>
<li><a
href="#escape-sequences-for-text-fields-and-quoted-strings">Escape
Sequences For Text Fields and Quoted Strings</a></li>
<li><a href="#quoted-strings-in-code-fields">Quoted Strings in Code
Fields</a></li>
<li><a href="#omega-shortcut-expressions-details">Omega Shortcut
Expressions: Details</a></li>
<li><a href="#wrap-shortcut-details-experimental">Wrap Shortcut: Details
(Experimental)</a></li>
</ul></li>
<li><a href="#appendices">Appendices</a>
<ul>
<li><a href="#appendix-i-undocumented-options">Appendix I: Undocumented
Options</a></li>
<li><a href="#appendix-ii-python-fstrings">Appendix II: Python
f‚Äëstrings</a></li>
</ul></li>
</ul>
<hr />
</span>
</details>

<h1 data-number="2" id="installing-and-running-f-in-dyalog-apl"><span
class="header-section-number">2</span> Installing and Running
<strong>‚àÜF</strong> in Dyalog APL</h1>
<details>            <!-- option: open -->
<summary class="summary">&ensp;Show/Hide <em>Installing and Running <bold>‚àÜF</bold></em>
</summary>

<h2 data-number="2.1" id="installing-f"><span
class="header-section-number">2.1</span> Installing
<strong>‚àÜF</strong></h2>
<ol type="1">
<li>On Github, search for <mark>"f‚Äëstring-apl"</mark>.
<ul>
<li>During the test phase, go to
<mark>github.com/petermsiegel/f‚Äëstring-apl</mark>.</li>
</ul></li>
<li>Copy the files <strong>‚àÜFapl.dyalog</strong> and
<strong>‚àÜF_Help.html</strong> into your current working directory
<span class="margin-note"><code>User command ]cd</code> will show you
your current working directory.</span>.</li>
<li>Then, from your Dyalog session (typically <code>#</code> or
<code>‚éïSE</code>), enter:<br>
<code>]load ‚àÜFapl [-target=</code><strong><em>myns</em></strong><code>]</code>
<ol type="1">
<li>Each time it is called, the <code>]load</code> will create function
<strong>‚àÜF</strong> and namespace <strong>‚çôFapl</strong> in the active
namespace (or <strong><em>myns</em></strong>).
<ol type="1">
<li><strong>‚çôFapl</strong> contains utilities used by
<strong>‚àÜF</strong> and, once<code>]load</code>ed, <em><strong>should
not</strong></em> be moved.</li>
<li><strong>‚àÜF</strong> <em>may</em> be relocated; it will refer to
<strong>‚çôFapl</strong> in its original location.</li>
</ol></li>
<li>If <strong>‚àÜF_Help.html</strong> is available at <code>]load</code>
time, it will be copied into <strong>‚çôFapl</strong> (or a message will
note its absence).</li>
</ol></li>
</ol>
<p>Now, <strong>‚àÜF</strong> is available in the active namespace (or
<strong><em>myns</em></strong>), along with <strong>‚çôFapl</strong>.</p>
<h2 data-number="2.2" id="running-f-after-its-been-installed"><span
class="header-section-number">2.2</span> Running <strong>‚àÜF</strong>
(After It's Been Installed)</h2>
<ol type="1">
<li><code>]load ‚àÜFapl</code> (see above), ensuring that
<strong>‚àÜF</strong> and <strong>‚çôFapl</strong> are accessible from the
current namespace.</li>
<li>Call <code>‚àÜF</code> with the desired argument(s) and <a
href="#f-call-syntax-details">options</a>. <strong>‚àÜF</strong> is
<code>‚éïIO</code>- and <code>‚éïML</code>-independent.</li>
</ol>
<hr />
</details>

<h1 data-number="3" id="overview"><span
class="header-section-number">3</span> Overview</h1>
<details open><summary class="summary">&ensp;Show/Hide <em>Overview</em></summary>

<p><span class="margin-note">Short for "<strong>formatted string
literals</strong>, <em>f‚Äëstrings</em> were introduced in Python in 2016.
<strong>‚àÜF</strong> <em>f‚Äëstrings</em> and Python's are
<strong>not</strong> compatible.</span> Inspired by <a
href="#appendix-ii-python-fstrings">Python f‚Äëstrings</a>,
<strong>‚àÜF</strong> includes a variety of capabilities to make it easy
to evaluate, format, annotate, and display related multi¬≠dimensional
information.</p>
<p><strong>‚àÜF</strong> <em>f‚Äëstrings</em> include:</p>
<ul>
<li>The abstraction of 2-dimensional character
<em><strong>fields</strong></em>, generated one-by-one from the user's
specifications and data, then aligned and catenated into a single
overall character matrix result;</li>
</ul>
<p><span class="margin-note">In this document, we use the symbol
<code>‚óá</code> (<code>‚éïUCS 9671</code>) to represent the APL
<em>statement separator</em> (<code>‚éïUCS 8900</code>), since the latter
is displayed <em>in some browsers</em> as a hard-to-read
glyph.</span></p>
<ul>
<li><p><strong>Text</strong> fields, supporting multiline Unicode text
within each field, with the sequence <code>`‚óá</code>
(<strong>backtick</strong> + <strong>statement separator</strong>)
generating a newline, <small><code>‚éïUCS 13</code></small>;</p></li>
<li><p><strong>Code</strong> fields, <span class="margin-note">An
<strong>‚àÜF</strong> <em>f‚Äëstring</em>‚Äî including any
<strong>Code</strong> fields‚Äî is limited to a single, possibly very
long, character vector. </span>allowing users to evaluate and display
APL arrays of any dimensionality, depth and type in the user
environment, arrays passed as <strong>‚àÜF</strong> arguments, as well as
arbitrary APL expressions based on full multi-statement dfn logic.Each
<strong>Code</strong> field must return a value, simple or otherwise,
which will be catenated with other fields and returned from
<strong>‚àÜF</strong>;</p>
<p><strong>Code</strong> fields also provide a number of concise,
convenient extensions, such as:</p>
<ul>
<li><p><strong>Quoted strings</strong> in <strong>Code</strong> fields,
with several quote styles:</p>
<ul>
<li><strong>double-quotes</strong><br> <code>‚àÜF '{"like this"}'</code>
or <code>‚àÜF '{"on`‚óá""three""`‚óálines"}</code>,</li>
<li><strong>double angle quotation
marks</strong>,<span class="margin-note">Also known as
<em>guillemets</em>, <big><strong>¬´</strong></big> and
<big><strong>¬ª</strong></big> are Unicode chars
<code>‚éïUCS 171 187</code>.</span><br>
<code>‚àÜF '{¬´with internal quotes like "this" or ''this''¬ª}'</code>, not
to mention</li>
<li>APL's tried-and-true embedded <strong>single-quotes</strong>,<br>
<code>‚àÜF '{''shown ''''right'''' here''}'</code>.</li>
</ul></li>
<li><p>Simple shortcuts<span class="margin-note">Details on all the <a
href="#code-field-shortcuts">shortcuts</a> are provided later in this
document.</span> for</p>
<ul>
<li><strong>format</strong>ting numeric arrays, <strong>$</strong>
(short for <strong>‚éïFMT</strong>):
<code>‚àÜF '{"F7.5" $ ?0 0}'</code>,</li>
<li>putting a <strong>box</strong> around a specific expression,
<strong>`B</strong>: <code>‚àÜF'{`B ‚ç≥2 2}'</code>,</li>
<li>placing the output of one expression <strong>above</strong> another,
<strong>%</strong>: <code>‚àÜF'{"Pi"% ‚óã1}'</code>,</li>
<li>formatting <strong>date</strong> and <strong>time</strong>
expressions from APL timestamps (<strong>‚éïTS</strong>) using
<strong>`T</strong> (combining¬†<strong>1200‚å∂</strong> and
<strong>‚éïDT</strong>): <code>‚àÜF'{"hh:mm:ss" `T ‚éïTS}'</code>,</li>
<li><em>and more</em>;</li>
</ul></li>
<li><p>Simple mechanisms for concisely formatting and displaying data
from</p>
<ul>
<li>user arrays or arbitrary code:
<br><code>tempC‚Üê10 110 40</code><br><code>‚àÜF'{tempC}'</code> or
<code>‚àÜF'{ {‚çµ&lt;100: 32+9√ó‚çµ√∑5 ‚óá "(too hot)"}¬®tempC }'</code>, <br></li>
<li>arguments to <strong>‚àÜF</strong> that follow the format
string:<br><code>‚àÜF'{32+`‚çµ1√ó9√∑5}' (10 110 40)</code>,<br> where
<code>`‚çµ1</code> is a shortcut for <code>(‚çµ‚äÉ‚ç®1+‚éïIO)</code> (here
<code>10 110 40</code>),</li>
<li><em>and more</em>;</li>
</ul></li>
</ul></li>
<li><p><strong>Space</strong> fields, providing a simple mechanism both
for separating adjacent <strong>Text</strong> fields and inserting
(rectangular) blocks of any number of spaces between any two fields,
where needed;</p>
<ul>
<li>one space: <code>{¬†}</code>; five spaces: <code>{¬†¬†¬†¬†¬†}</code>; or
even, zero spaces: <code>{}</code>;</li>
<li>1000 spaces? Use a <strong>Code</strong> field instead:
<code>{1000‚ç¥""}</code>.</li>
</ul></li>
<li><p>Multiline (matrix) output built up field-by-field, left-to-right,
from values and expressions in the calling environment or arguments to
<strong>‚àÜF</strong>;</p>
<ul>
<li>After all fields are generated, they are aligned vertically and
concatenated to form a single character matrix: <em><strong>the return
value from</strong></em> <strong>‚àÜF</strong>.
<span class="margin-note"><br>As a prototype, <strong>‚àÜF</strong> is
relatively slow, using an APL recursive scan to analyze the
<strong>f‚Äëstring</strong>. For a way to speed up frequently used
<em>f‚Äëstrings</em>, see the <a href="#f-call-syntax-details">DFN
option</a>.</span></li>
</ul></li>
</ul>
<p><strong>‚àÜF</strong> is designed for ease of use, <em>ad hoc</em>
debugging, fine-grained formatting and informal user interaction, built
using Dyalog functions and operators.</p>
<details>     <!-- option: open -->
<summary class="summary">&ensp;Recap: <em>The Three Field Types</em></summary><br>  

<table>
<thead>
<tr>
<th style="text-align: center;">Field Type</th>
<th style="text-align: center;">Syntax</th>
<th style="text-align: center;">Examples</th>
<th style="text-align: center;">Displaying</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong>Text</strong></td>
<td style="text-align: center;"><em>Unicode text</em></td>
<td style="text-align: center;"><code>abc`‚óádef</code></td>
<td style="text-align: center;">2-D Text</td>
</tr>
<tr>
<td style="text-align: center;"><strong>Code</strong></td>
<td style="text-align: center;"><code>{</code><em>dfn code
plus</em><code>}</code></td>
<td style="text-align: center;"><code>{(32+9√ó√∑‚àò5)degC}</code><br>
<code>{‚Üë"one" "two"}</code></td>
<td style="text-align: center;">Arbitrary APL<br>expressions via
dfns</td>
</tr>
<tr>
<td style="text-align: center;"><strong>Space</strong></td>
<td style="text-align: center;"><code>{</code><big>‚ê† ‚ê†
‚ê†</big><code>}</code></td>
<td style="text-align: center;"><code>{  }</code> ‚ÄÇ <code>{}</code></td>
<td style="text-align: center;">Spacing &amp; Field Separation</td>
</tr>
</tbody>
</table>
<div>
Table 3a. <strong>The Three Field Types</strong>
</div> 

<br>
</details> 

<h1 data-number="4" id="displaying-f-help-in-apl"><span
class="header-section-number">4</span> Displaying ‚àÜF
<strong>Help</strong> in APL</h1>
<p><span class="margin-note">If <code>‚àÜF‚ç®'help'</code> seems exotic,
try: <code>'help' ‚àÜF ‚ç¨</code>.</span> <span style="font-size: 130%;">üëâ
</span>To display this <strong>HELP</strong> information, type:
<code>‚àÜF‚ç® 'help'</code>.</p>
<h1 data-number="5" id="f-examples-a-primer"><span
class="header-section-number">5</span> ‚àÜF Examples: A Primer</h1>
<details>            <!-- option: open -->
<summary class="summary">&ensp;Show/Hide <em>Examples: A Primer</em></summary>

<p>Before providing information on <strong>‚àÜF</strong> syntax and other
details, <em>let's start with some examples</em>‚Ä¶</p>
<p>First, let's set some context for the examples. (You can set these
however you want.)</p>
<p><span class="margin-note">All examples in this document assume
<code>‚éïIO‚Üê0 ‚óá ‚éïML‚Üê1</code>.</span></p>
<pre><code>   ‚éïIO ‚éïML‚Üê 0 1        </code></pre>
<h2 data-number="5.1" id="code-fields"><span
class="header-section-number">5.1</span> Code Fields</h2>
<p>Here are <strong>Code</strong> fields with simple variables.</p>
<p><span class="margin-note">So far, this is like everybody else's
<em>f‚Äëstrings</em>.</span></p>
<pre><code>   name‚Üê &#39;Fred&#39; ‚óá age‚Üê 43
   ‚àÜF &#39;The patient&#39;&#39;s name is {name}. {name} is {age} years old.&#39;
The patient&#39;s name is Fred. Fred is 43 years old.</code></pre>
<p><strong>Code</strong> fields can contain arbitrary expressions. With
default options, <strong>‚àÜF</strong> always returns a single character
matrix. Here <strong>‚àÜF</strong> returns a matrix with 2 rows and 32
columns.</p>
<p><span class="margin-note"> Now we're taking advantage of APL's
array-oriented style. </span></p>
<pre><code>   tempC‚Üê ‚ç™35 85
   ‚ç¥‚éï‚Üê ‚àÜF &#39;The temperature is {tempC}{2 2‚ç¥&quot;¬∞C&quot;} or {32+tempC√ó9√∑5}{2 2‚ç¥&quot;¬∞F&quot;}&#39;
The temperature is 35¬∞C or  95¬∞F.
                   85¬∞C    185¬∞F
2 32                </code></pre>
<p>Here, we assign the <em>f‚Äëstring</em> to an APL variable, then call
<strong>‚àÜF</strong> twice!</p>
<p><span class="margin-note">Setting <code>‚éïRL</code> ensures our random
numbers aren't random!</span></p>
<pre><code>   ‚éïRL‚Üê 2342342                 
   n‚Üê ‚â¢names‚Üê &#39;Mary&#39; &#39;Jack&#39; &#39;Tony&#39; 
   prize‚Üê 1000
   f‚Üê &#39;Customer {names‚äÉ‚ç® ?n} wins ¬£{?prize}!&#39;
   ‚àÜF f
Customer Jack wins ¬£80!
   ‚àÜF f
Customer Jack wins ¬£230!</code></pre>
<p>Isn't Jack lucky, winning twice in a row!</p>
<details id="pPeek"><summary class="summary">&ensp;View a fancier example...</summary>

<pre><code> ‚çù Be sure everyone wins something.
   n‚Üê ‚â¢names‚Üê &#39;Mary&#39; &#39;Jack&#39; &#39;Tony&#39; 
   prize‚Üê 1000
   ‚àÜF &#39;{ ‚Üënames }{ ‚ç™n‚ç¥ ‚äÇ&quot;wins&quot; }{ &quot;¬£&quot;, ‚çï‚ç™?n‚ç¥ prize}&#39;
Mary wins ¬£711
Jack wins ¬£298
Tony wins ¬£242</code></pre>
</details>

<h2 data-number="5.2" id="text-fields-and-space-fields"><span
class="header-section-number">5.2</span> Text Fields and Space
Fields</h2>
<p>Below, we have some multi-line <strong>Text</strong> fields separated
by non-null <strong>Space</strong> fields.</p>
<ul>
<li>The backtick is our "escape" character.</li>
<li>The sequence `‚óá generates a new line in the current text field.</li>
<li>Each <strong>Space</strong> field <code>{ }</code> in the next
example contains one space within its braces. It produces a matrix a
<em>single</em> space wide with as many rows as required to catenate it
with adjacent fields.</li>
</ul>
<p>A <strong>Space</strong> field is useful here because each multi-line
field is built in its own rectangular space.</p>
<pre><code>   ‚àÜF &#39;This`‚óáis`‚óáan`‚óáexample{ }Of`‚óámulti-line{ }Text`‚óáFields&#39;
This    Of         Text
is      multi-line Fields
an
example</code></pre>
<h2 data-number="5.3" id="null-space-fields"><span
class="header-section-number">5.3</span> Null Space Fields</h2>
<p>Two adjacent <strong>Text</strong> fields can be separated by a null
<strong>Space</strong> field <code>{}</code>, for example when at least
one field contains multiline input that you want formatted separately
from others, keeping each field in is own rectangular space:</p>
<pre><code>‚çù  Extra space here ‚Üì 
   ‚àÜF &#39;Cat`‚óáElephant `‚óáMouse{}Felix`‚óáDumbo`‚óáMickey&#39;
Cat      Felix
Elephant Dumbo
Mouse    Mickey</code></pre>
<p>In the above example, we added an extra space after the longest
animal name, <em>Elephant</em>, so it wouldn't run into the next word,
<em>Dumbo</em>.</p>
<p><strong>But wait! There's an easier way!</strong></p>
<p>Here, you surely want the lefthand field to be guaranteed to have a
space after <em>each</em> word without fiddling; a
<strong>Space</strong> field with at least one space will solve the
problem:</p>
<pre class="apl"><code>‚çù                          ‚Üì‚Üì‚Üì
   ‚àÜF &#39;Cat`‚óáElephant`‚óáMouse{ }Felix`‚óáDumbo`‚óáMickey&#39;
Cat      Felix
Elephant Dumbo
Mouse    Mickey</code></pre>
<h2 data-number="5.4" id="code-fields-continued"><span
class="header-section-number">5.4</span> Code Fields (Continued)</h2>
<p><span class="margin-note">We could have used a <strong>Space</strong>
field <code>{ }</code> here as well.</span> And this is the same example
with <em>identical</em> output, but built using two
<strong>Code</strong> fields separated by a <strong>Text</strong> field
with a single space.</p>
<p><span class="margin-note">APL mix <code>‚Üë</code> is used to convert
the names (a vector of character vectors) to a character matrix.
</span></p>
<pre><code>   ‚àÜF &#39;{‚Üë&quot;Cat&quot; &quot;Elephant&quot; &quot;Mouse&quot;} {‚Üë&quot;Felix&quot; &quot;Dumbo&quot; &quot;Mickey&quot;}&#39;
Cat      Felix
Elephant Dumbo
Mouse    Mickey</code></pre>
<p>Here's a similar example with double quote-delimited strings in
<strong>Code</strong> fields with the newline sequence,
<code>`‚óá</code>:</p>
<pre><code>   ‚àÜF &#39;{&quot;This`‚óáis`‚óáan`‚óáexample&quot;} {&quot;Of`‚óáMulti-line&quot;} {&quot;Strings`‚óáin`‚óáCode`‚óáFields&quot;}&#39;
This    Of         Strings
is      Multi-line in
an                 Code
example            Fields</code></pre>
<p>Here is some multiline data we'll add to our <strong>Code</strong>
fields.</p>
<p><span class="margin-note"><br><br><br><br><br>Again, we use APL
<em>mix</em> <code>‚Üë</code> to generate multiline objects
(matrices).</span></p>
<pre><code>   fNm‚Üê  &#39;John&#39; &#39;Mary&#39; &#39;Ted&#39;
   lNm‚Üê  &#39;Smith&#39; &#39;Jones&#39; &#39;Templeton&#39;
   addr‚Üê &#39;24 Mulberry Ln&#39; &#39;22 Smith St&#39; &#39;12 High St&#39;
   
   ‚àÜF &#39;{‚ÜëfNm} {‚ÜëlNm} {‚Üëaddr}&#39;
John Smith     24 Mulberry Ln
Mary Jones     22 Smith St
Ted  Templeton 12 High St</code></pre>
<p><span class="margin-note">We could have used <code>0‚çï‚ç™</code> and
<code>1‚çï‚ç™</code> here, of course. But we wanted to remind you what
Dyalog's <code>‚éïFMT</code> can do. For more, see <a
href="#the-format-shortcut">below</a>. </span></p>
<p>Here's a slightly more interesting code expression, using
<code>$</code> (a shortcut for <code>‚éïFMT</code>) to round Centigrade
numbers to the nearest whole degree and Fahrenheit numbers to the
nearest tenth of a degree.</p>
<pre><code>   cv‚Üê 11.3 29.55 59.99
   ‚àÜF &#39;The temperature is {&quot;I2&quot; $ cv}¬∞C or {&quot;F5.1&quot;$ 32+9√ócv√∑5}¬∞F&#39;
The temperature is 11¬∞C or  52.3¬∞F
                   30       85.2
                   60      140.0</code></pre>
<h2 data-number="5.5" id="the-box-shortcut"><span
class="header-section-number">5.5</span> The Box Shortcut</h2>
<p>We now introduce the <strong>Box</strong> shortcut <code>`B</code>.
Here we place boxes around key <strong>Code</strong> fields in this same
example.</p>
<pre><code>   cv‚Üê 11.3 29.55 59.99
   ‚àÜF &#39;`‚óáThe temperature is {`B &quot;I2&quot; $ cv}`‚óá¬∞C or {`B &quot;F5.1&quot; $ 32+9√ócv√∑5}`‚óá¬∞F&#39;
                   ‚îå‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
The temperature is ‚îÇ11‚îÇ¬∞C or ‚îÇ 52.3‚îÇ¬∞F
                   ‚îÇ30‚îÇ      ‚îÇ 85.2‚îÇ
                   ‚îÇ60‚îÇ      ‚îÇ140.0‚îÇ
                   ‚îî‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò</code></pre>
<h2 data-number="5.6" id="box-mode"><span
class="header-section-number">5.6</span> Box Mode</h2>
<p>But what if you want to place a box around every
<strong>Code</strong>, <strong>Text</strong>,
<strong><em>and</em></strong> <strong>Space</strong> field? We just use
the <strong>Box</strong> mode option!</p>
<p>While we can't place boxes around text (or space) fields using
<code>`B</code>, we can place a box around
<em><strong>each</strong></em> field (<em>regardless</em> of type) by
setting <strong>‚àÜF</strong>'s <em>third</em> option,
<strong>Box</strong> <a href="#f-call-syntax-details">mode</a>,
<span class="margin-note"><strong>third option</strong>:
<code>‚ç∫[2+‚éïIO]</code>.</span>to <code>1</code>:</p>
<pre><code>   cv‚Üê 11.3 29.55 59.99
       ‚Üì¬Ø¬Ø¬Ø Box mode
   0 0 1 ‚àÜF &#39;`‚óáThe temperature is {&quot;I2&quot; $ cv}`‚óá¬∞C or {&quot;F5.1&quot; $ 32+9√ócv√∑5}`‚óá¬∞F&#39;
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îê
‚îÇ                   ‚îÇ11‚îÇ      ‚îÇ 52.3‚îÇ  ‚îÇ
‚îÇThe temperature is ‚îÇ30‚îÇ¬∞C or ‚îÇ 85.2‚îÇ¬∞F‚îÇ
‚îÇ                   ‚îÇ60‚îÇ      ‚îÇ140.0‚îÇ  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îò</code></pre>
<p>We said you could place a box around every field, but there's an
exception. Null <strong>Space</strong> fields <code>{}</code>,
<em>i.e.</em> 0-width <strong>Space</strong> fields, are discarded once
they've done their work of separating adjacent fields (typically
<strong>Text</strong> fields), so they won't be placed in boxes.</p>
<p>Try this expression on your own:</p>
<pre><code>   0 0 1 ‚àÜF &#39;abc{}def{}{}ghi{&quot;&quot;}jkl{ }mno&#39;</code></pre>
<details id="pPeek"><summary class="summary">&ensp;Peek</summary>

<pre><code>   0 0 1 ‚àÜF &#39;abc{}def{}{}ghi{&quot;&quot;}jkl{ }mno&#39;
‚îå‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îê 
‚îÇabc‚îÇdef‚îÇghi‚îÇ‚îÇjkl‚îÇ ‚îÇmno‚îÇ 
‚îî‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
</details>

<p>In contrast, <strong>Code</strong> fields that return null values
(like <code>{""}</code> above) <em>will</em> be displayed!</p>
<h2 data-number="5.7" id="omega-shortcuts-explicit"><span
class="header-section-number">5.7</span> Omega Shortcuts (Explicit)</h2>
<blockquote>
<p>Referencing <strong>‚àÜF</strong> arguments after the
<em>f‚Äëstring</em>: <strong>Omega</strong> shortcut expressions like
<code>`‚çµ1</code>.</p>
</blockquote>
<p>The expression <span class="margin-note">And <code>(‚çµ‚äÉ‚ç® 1+‚éïIO)</code>
is, of course, equivalent to <code>((1+‚éïIO)‚äÉ‚çµ)</code>.</span>
<code>`‚çµ1</code> is equivalent to <code>(‚çµ‚äÉ‚ç® 1+‚éïIO)</code>, selecting
the first argument after the <em>f‚Äëstring</em>. Similarly,
<code>`‚çµ99</code> would select <code>(‚çµ‚äÉ‚ç®99+‚éïIO)</code>.</p>
<p>We will use <code>`‚çµ1</code> here, both with shortcuts and an
externally defined function <code>C2F</code>, that converts Centigrade
to Fahrenheit. A bit further <a
href="#omega-shortcuts-implicit">below</a>, we discuss bare
<code>`‚çµ</code> (<em>i.e.</em> without an appended non-negative
integer).</p>
<pre><code>   C2F‚Üê 32+9√ó√∑‚àò5
   ‚àÜF &#39;The temperature is {&quot;I2&quot; $ `‚çµ1}¬∞C or {&quot;F5.1&quot; $ C2F `‚çµ1}¬∞F&#39; (11 15 20)
The temperature is 11¬∞C or 51.8¬∞F
                   15      59.0
                   20      68.0</code></pre>
<h2 data-number="5.8" id="referencing-the-fstring-itself"><span
class="header-section-number">5.8</span> Referencing the f‚Äëstring
Itself</h2>
<p><span class="margin-note"> <code>`‚çµ0</code> refers to the
<em>f‚Äëstring</em> independent of the the number of elements in the right
argument to <strong>‚àÜF</strong> (<em>effectively</em>,
<code>‚äÜ‚çµ</code>).</span> The expression <code>`‚çµ0</code> always refers
to the <em>f‚Äëstring</em> itself. Try this yourself.</p>
<pre><code>   bL bR‚Üê &#39;¬´¬ª&#39;                     ‚çù ‚éïUCS 171 187
   ‚àÜF &#39;Our string {bL, `‚çµ0, bR} has {‚â¢`‚çµ0} characters.&#39;</code></pre>
<details id="pPeek"><summary class="summary">&ensp;Peek</summary>

<pre><code>   bL bR‚Üê &#39;¬´¬ª&#39;                     ‚çù ‚éïUCS 171 187
   ‚àÜF &#39;Our string {bL, `‚çµ0, bR} has {‚â¢`‚çµ0} characters.&#39;
Our string ¬´Our string {bL, `‚çµ0, bR} has {‚â¢`‚çµ0} characters¬ª has 47 characters.</code></pre>
<details id="pPeek"><summary class="summary">&ensp;Let's check our work...</summary>

<pre><code>   ‚â¢&#39;Our string {bL, `‚çµ0, bR} has {‚â¢`‚çµ0} characters.&#39;
47</code></pre>
</details>
</details>

<h2 data-number="5.9" id="the-format-shortcut"><span
class="header-section-number">5.9</span> The Format Shortcut</h2>
<p><span class="margin-note"><code>$</code> (<em>i.e.</em>
<code>‚éïFMT</code>) can also be used monadically, but <strong>‚àÜF</strong>
will handle that for you in most cases. </span></p>
<blockquote>
<p>Let's add commas to some very large numbers using the
<strong>‚éïFMT</strong> shortcut <code>$</code>.</p>
</blockquote>
<p>We can use Dyalog's built-in formatting specifier "C" with shortcut
<code>$</code> to add appropriate commas to the temperatures!</p>
<p><span class="margin-note"><br><br><code>C2F‚Üê 32+9√ó√∑‚àò5</code></span></p>
<pre><code>‚çù  The temperature of the sun at its core in degrees C.
   sun_core‚Üê 15E6                   ‚çù 15000000 is a bit hard to parse!
   ‚àÜF &#39;The sun&#39;&#39;s core is at {&quot;CI10&quot; $ sun_core}¬∞C or {&quot;CI10&quot; $ C2F sun_core}¬∞F&#39;
The sun&#39;s core is at 15,000,000¬∞C or 27,000,032¬∞F</code></pre>
<h2 data-number="5.10" id="the-shortcut-for-numeric-commas"><span
class="header-section-number">5.10</span> The Shortcut for Numeric
Commas</h2>
<p><span class="margin-note">Typically, each number or numeric string
presented to <code>`C</code> will represent an integer, but if a real
number is presented, only the integer part will have commas added.
</span> The shortcut for <em>Numeric</em> <strong>Commas</strong>
<code>`C</code> adds commas every 3 digits (from the right) to one or
more numbers or numeric strings.It has an advantage over the
<code>$</code> (Dyalog's <code>‚éïFMT</code>) specifier: it doesn't
require you to guesstimate field widths.</p>
<p>Let's use the <code>`C</code> shortcut to add the commas to the
temperatures!</p>
<p><span class="margin-note"><br>Cool! OK, not literally.</span></p>
<pre><code>   sun_core‚Üê 15E6               ‚çù 15000000 is a bit hard to parse!
   ‚àÜF &#39;The sun&#39;&#39;s core is at {`C sun_core}¬∞C or {`C C2F sun_core}¬∞F.&#39;
The sun&#39;s core is at 15,000,000¬∞C or 27,000,032¬∞F.</code></pre>
<p>And for a bit of a twist, let's display either degrees Centigrade or
Fahrenheit under user control (<code>1</code> =&gt; F, <code>0</code>
=&gt; C). Here, we establish the <em>f‚Äëstring</em> <code>sunFC</code>
first, then pass it to <strong>‚àÜF</strong> with an additional right
argument.</p>
<pre><code>   sunFC‚Üê &#39;The sun&#39;&#39;s core is at {`C C2F‚ç£`‚çµ1‚ä¢ sun_core}¬∞{ `‚çµ1‚äÉ &quot;CF&quot;}.&#39;
   ‚àÜF sunFC 1
The sun&#39;s core is at 27,000,032¬∞F.
   ‚àÜF sunFC 0
The sun&#39;s core is at 15,000,000¬∞C.</code></pre>
<p>Now, let's move on to Self-documenting <strong>Code</strong>
fields.</p>
<h2 data-number="5.11" id="self-documenting-code-fields-sdcfs"><span
class="header-section-number">5.11</span> Self-documenting
<strong>Code</strong> fields (SDCFs)</h2>
<p><span class="margin-note">Our SDCFs are based on Python's single type
of self-documenting expressions in <em>f‚Äëstrings</em>, but work somewhat
differently. SDCFs are used <em><strong>only</strong></em> in
<strong>Code</strong> fields (<em>duh</em>). </span></p>
<blockquote>
<p>Self-documenting Code fields (SDCFs) are a useful debugging tool.</p>
</blockquote>
<p>What's an SDCF? An SDCF allows whatever source code is in a
<strong>Code</strong> field to be automatically displayed literally
along with the result of evaluating that code.</p>
<p>The source code for a <strong>Code</strong> field can automatically
be shown in <strong>‚àÜF</strong>'s output‚Äî</p>
<ul>
<li>to the <em>left</em> of the result of evaluating that code; or,</li>
<li>centered <em>above</em> the result of evaluating that code.</li>
</ul>
<p>All you need do is enter</p>
<ul>
<li>a right arrow <big><code>‚Üí</code></big> for a
<strong>horizontal</strong> SDCF, or</li>
<li>a down arrow <big><code>‚Üì</code></big> (or
<big><code>%</code></big>)<span class="margin-note"><code>%</code> is
the same glyph as for the <strong>Above</strong> shortcut,
<code>%</code> or <code>`A</code>, discussed in <a
href="#the-above-shortcut">the next section</a>.</span> for a
<strong>vertical</strong> SDCF,</li>
</ul>
<p>as the <strong><em>last non-space</em></strong> character in the
<strong>Code</strong> field, before the <em>final</em> right brace.</p>
<p>Here's an example of a horizontal SDCF, <em>i.e.</em> using
<code>‚Üí</code>:</p>
<pre><code>   name‚Üê&#39;John Smith&#39; ‚óá age‚Üê 34
   ‚àÜF &#39;Current employee: {name‚Üí}, {age‚Üí}.&#39;
Current employee: name‚ÜíJohn Smith, age‚Üí34.</code></pre>
<p>As a useful formatting feature, whatever spaces are just
<strong><em>before</em></strong> or <strong><em>after</em></strong> the
symbol <strong>‚Üí</strong> or <strong>‚Üì</strong> are preserved
<strong><em>verbatim</em></strong> in the output.</p>
<p>Here's an example with such spaces: see how the spaces adjacent to
the symbol <code>‚Üí</code> are mirrored in the output!</p>
<pre><code>   name‚Üê&#39;John Smith&#39; ‚óá age‚Üê 34
   ‚àÜF &#39;Current employee: {name ‚Üí }, {age‚Üí }.&#39;
Current employee: name ‚Üí John Smith, age‚Üí 34.</code></pre>
<p>Now, let's look at an example of a vertical SDCF, <em>i.e.</em> using
<code>‚Üì</code>:</p>
<pre><code>   name‚Üê&#39;John Smith&#39; ‚óá age‚Üê 34
   ‚àÜF &#39;Current employee: {name‚Üì} {age‚Üì}.&#39;
Current employee:  name‚Üì     age‚Üì.
                  John Smith  34</code></pre>
<p>To make it easier to see, here's the same result, but with a box
around each field (using the <strong>Box</strong> <a
href="#f-call-syntax-details">option</a> <code>0 0 1</code>).</p>
<pre><code>‚çù  Box all fields
   0 0 1 ‚àÜF &#39;Current employee: {name‚Üì} {age‚Üì}.&#39;
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îê
‚îÇCurrent employee: ‚îÇ name‚Üì    ‚îÇ ‚îÇage‚Üì‚îÇ.‚îÇ
‚îÇ                  ‚îÇJohn Smith‚îÇ ‚îÇ 34 ‚îÇ ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îò</code></pre>
<h2 data-number="5.12" id="the-above-shortcut"><span
class="header-section-number">5.12</span> The Above Shortcut</h2>
<blockquote>
<p>A cut above the rest‚Ä¶</p>
</blockquote>
<p><span class="margin-note"><code>%</code> can be used monadically. In
that case, a left argument of <code>''</code> (an empty string) is
assumed. </span> Here's a useful feature. Let's use the shortcut
<code>%</code> to display one expression centered above another; it's
called <strong>Above</strong> and can <em>also</em> be expressed as
<code>`A</code>.</p>
<p><span class="margin-note">Remember, <code>`‚çµ1</code> designates the
<strong><em>first</em></strong> argument after the <em>f‚Äëstring</em>
itself, and <code>`‚çµ2</code> the <strong><em>second</em></strong>.
</span></p>
<pre><code>   ‚àÜF &#39;{&quot;Employee&quot; % ‚ç™`‚çµ1} {&quot;Age&quot; % ‚ç™`‚çµ2}&#39; (&#39;John Smith&#39; &#39;Mary Jones&#39;)(29 23)
Employee    Age
John Smith  29
Mary Jones  23</code></pre>
<h2 data-number="5.13" id="text-justification-shortcut"><span
class="header-section-number">5.13</span> Text Justification
Shortcut</h2>
<p><span class="margin-note"><code>`J</code> is a variant of
<code>just</code>, found in the <em>dfns</em> library.</span> The Text
<strong>Justification</strong> shortcut <code>`J</code> treats its right
argument as a character matrix, justifying each line to the left
(<code>‚ç∫="L"</code>, the default), to the right (<code>‚ç∫="R"</code>), or
centered (<code>‚ç∫="C"</code>). If its right argument is numeric, it will
be converted to character form with an implicit print precision of
<code>‚éïPP=34</code>.</p>
<pre><code>   a‚Üê ‚Üë&#39;elephants&#39; &#39;cats&#39; &#39;rhinoceroses&#39;
   ‚àÜF &#39;{&quot;L&quot; `J a}  {&quot;C&quot; `J a}  {&quot;R&quot; `J a}&#39; 
elephants      elephants       elephants
cats              cats              cats
rhinoceroses  rhinoceroses  rhinoceroses</code></pre>
<h2 data-number="5.14" id="omega-shortcuts-implicit"><span
class="header-section-number">5.14</span> Omega Shortcuts
(Implicit)</h2>
<blockquote>
<p>The <em>next</em> best thing: the use of <code>`‚çµ</code> in
<strong>Code</strong> field expressions‚Ä¶</p>
</blockquote>
<p>We said we'd present the use of <strong>Omega</strong> shortcuts with
implicit indices <code>`‚çµ</code> in <strong>Code</strong> fields. The
expression <code>`‚çµ</code> selects the <em>next</em> element of the
right argument <code>‚çµ</code> to <strong>‚àÜF</strong>, defaulting to
<code>`‚çµ1</code> when first encountered, <em>i.e.</em> if there are
<strong><em>no</em></strong> <code>`‚çµ</code> elements (<em>explicit</em>
or <em>implicit</em>) to the <strong><em>left</em></strong> in the
entire <em>f‚Äëstring</em>. If there is any such expression (<em>e.g.</em>
<code>`‚çµ5</code>), then <code>`‚çµ</code> points to the element after that
one (<em>e.g.</em> <code>`‚çµ6</code>). If the item to the left is
<code>`‚çµ</code>, then we simply increment the index by <code>1</code>
from that one.</p>
<p><strong>Let's try an example.</strong> Here, we display arbitrary
2-dimensional expressions, one above the other. <code>`‚çµ</code> refers
to the <strong><em>next</em></strong> argument in sequence, left to
right, starting with <code>`‚çµ1</code>, the first, <em>i.e.</em>
<code>(‚çµ‚äÉ‚ç® 1+‚éïIO)</code>. So, from left to right <code>`‚çµ</code> is
<code>`‚çµ1</code>, <code>`‚çµ2</code>, and <code>`‚çµ3</code>.</p>
<p><span class="margin-note"><em>Easy peasy.</em></span></p>
<pre><code>   ‚àÜF &#39;{(‚ç≥2‚ç¥`‚çµ) % (‚ç≥2‚ç¥`‚çµ) % (‚ç≥2‚ç¥`‚çµ)}&#39; 1 2 3
    0 0
  0 0 0 1
  1 0 1 1
0 0 0 1 0 2
1 0 1 1 1 2
2 0 2 1 2 2</code></pre>
<p>Let's demonstrate here the equivalence of the <em>implicitly</em> and
<em>explicitly</em> indexed <strong>Omega expressions</strong>!</p>
<pre><code>   a‚Üê ‚àÜF &#39;{(‚ç≥2‚ç¥`‚çµ) % (‚ç≥2‚ç¥`‚çµ) % (‚ç≥2‚ç¥`‚çµ)}&#39; 1 2 3     ‚çù Implicit Omega expressions
   b‚Üê ‚àÜF &#39;{(‚ç≥2‚ç¥`‚çµ1) % (‚ç≥2‚ç¥`‚çµ2) % (‚ç≥2‚ç¥`‚çµ3)}&#39; 1 2 3  ‚çù Explicit Omega expressions
   a ‚â° b                                           ‚çù Are they the same?
1                                                  ‚çù Yes!</code></pre>
<h2 data-number="5.15" id="shortcuts-with-individual-expressions"><span
class="header-section-number">5.15</span> Shortcuts With Individual
Expressions</h2>
<p>Shortcuts often make sense with individual expressions, not just
entire <strong>Code</strong> fields. They can be manipulated like
ordinary APL functions; since they are just that -- ordinary APL
functions -- under the covers. Here, we display one boxed value above
the other.</p>
<pre><code>   ‚àÜF &#39;{(`B ‚ç≥`‚çµ1) % `B ‚ç≥`‚çµ2}&#39; (2 2)(3 3)
  ‚îå‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ0 0‚îÇ0 1‚îÇ
  ‚îú‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚î§
  ‚îÇ1 0‚îÇ1 1‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îò
‚îå‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îê
‚îÇ0 0‚îÇ0 1‚îÇ0 2‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚î§
‚îÇ1 0‚îÇ1 1‚îÇ1 2‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚î§
‚îÇ2 0‚îÇ2 1‚îÇ2 2‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îò</code></pre>
<details id="pPeek"><summary class="summary">&ensp;Peek: Shortcuts are just Functions</summary>

<p>While not for the faint of heart, the expression above can be recast
as this somewhat hard to read alternative:</p>
<pre><code>   ‚àÜF &#39;{%/ `B‚àò‚ç≥¬® `‚çµ1 `‚çµ2}&#39; (2 2)(3 3)</code></pre>
</details

<blockquote>
<p>There are loads of other examples to discover.</p>
</blockquote>
<h2 data-number="5.16" id="a-shortcut-for-dates-and-times-part-i"><span
class="header-section-number">5.16</span> A Shortcut for Dates and Times
(Part I)</h2>
<p><span class="margin-note">The syntax for the Date-Time specifications
in the left argument to <code>`T</code> can be found in the Dyalog
documentation under <strong>1200‚å∂</strong>. For the curious, here's the
core <em>dfn</em> code actually used by the Date-Time shortcut:
<br>‚ÄÉ<code>‚ç∫‚Üê'YYYY-MM-DD hh:mm:ss'</code><br>‚ÄÉ<code>‚àä‚ç£(1=‚â°‚çµ)‚ä¢‚ç∫(1200‚å∂)‚ä¢1‚éïDT ‚äÜ‚çµ</code>
</span> <strong>‚àÜF</strong> supports a simple <strong>Date-Time</strong>
shortcut <code>`T</code> built from <strong>1200‚å∂</strong> and
<strong>‚éïDT</strong>. It takes one or more Dyalog
<code>‚éïTS</code>-format timestamps as the right argument and a date-time
specification as the (optional) left argument. Trailing elements of a
timestamp may be omitted (they will each be treated as <code>0</code> in
the specification string).</p>
<p>Let's look at the use of the <code>`T</code> shortcut to show the
current time (now).</p>
<p><span class="margin-note"><br>The time displayed in practice will be
the <em>true</em> current time.</span></p>
<pre><code>   ‚àÜF &#39;It is now {&quot;t:mm pp&quot; `T ‚éïTS}.&#39;
It is now 8:08 am.</code></pre>
<p>Here's a fancier example<span class="margin-note">The power is in the
capabilities of <code>1200‚å∂</code> and <code>‚éïDT</code>.</span>. (We've
added the <em>truncated</em> timestamp <code>2025 01 01</code> right
into the <em>f‚Äëstring</em>.)</p>
<pre><code>   ‚àÜF &#39;{ &quot;D MMM YYYY &#39;&#39;was a&#39;&#39; Dddd.&quot;`T 2025 01 01}&#39;
1 JAN 2025 was a Wednesday.</code></pre>
<h2 data-number="5.17" id="a-shortcut-for-dates-and-times-part-ii"><span
class="header-section-number">5.17</span> A Shortcut for Dates and Times
(Part II)</h2>
<p>If it bothers you to use <code>`T</code> for a date-only expression,
you can use <code>`D</code>, which means exactly the same thing.</p>
<pre><code>   ‚àÜF &#39;{ &quot;D MMM YYYY &#39;&#39;was a&#39;&#39; Dddd.&quot; `D 2025 01 02}&#39;
2 JAN 2025 was a Thursday.</code></pre>
<p>Here, we'll pass the time stamp via a single <strong>Omega</strong>
expression <code>`‚çµ1</code>, whose argument
<span class="margin-note"><code>(2025 1 21)</code></span> is passed in
parentheses.</p>
<pre><code>   ‚àÜF &#39;{ &quot;D Mmm YYYY &#39;&#39;was a&#39;&#39; Dddd.&quot; `T `‚çµ1}&#39; (2025 1 21)
21 Jan 2025 was a Tuesday.</code></pre>
<p>We could also pass the time stamp via a sequence of
<strong>Omega</strong> expressions: <code>`‚çµ `‚çµ `‚çµ</code>. This is
equivalent to the <em>slightly</em> verbose expression:
<code>`‚çµ1 `‚çµ2 `‚çµ3</code>.</p>
<pre><code>   ‚àÜF &#39;{ &quot;D Mmm YYYY &#39;&#39;was a&#39;&#39; Dddd.&quot; `T `‚çµ `‚çµ `‚çµ}&#39; 2025 1 21
21 Jan 2025 was a Tuesday.</code></pre>
<h2 data-number="5.18" id="the-quote-shortcut"><span
class="header-section-number">5.18</span> The Quote Shortcut</h2>
<blockquote>
<p>Placing quotes around string elements of an array.</p>
</blockquote>
<p><span class="margin-note">If a multi¬≠dimensional character array is
found, its <em>rows</em> are quoted; if a character vector, it is quoted
<em>in toto</em>; else, each character <em>scalar</em> is quoted in
isolation. </span> The <strong>Quote</strong> shortcut <code>`Q</code>
recursively scans its right argument, matching rows of character arrays,
character vectors, and character scalars, doubling internal single
quotes and placing single quotes around the items found.</p>
<p>Non-character data is returned as is. This is useful, for example,
when you wish to clearly distinguish character from numeric data.</p>
<p>Let's look at a couple of simple examples:</p>
<p>First, let's use the <code>`Q</code> shortcut to place quotes around
the simple character arrays in its right argument, <code>‚çµ</code>. This
is useful when you want to distinguish between character output that
might include numbers and <em>actual</em> numeric output.</p>
<pre><code>   ‚àÜF &#39;{`Q 1 2 &quot;three&quot; 4 5 (‚ç™1 &quot;2&quot;) (‚ç™&quot;cats&quot; &quot;dogs&quot;)}&#39;   
1 2  &#39;three&#39;  4 5     1    &#39;cats&#39;
                    &#39;2&#39;    &#39;dogs&#39;</code></pre>
<p>And here's an example with a simple, mixed vector (<em>i.e.</em> a
mix of character and numeric scalars only). We'll call the object
<code>iv</code>, but we won't disclose its definition yet.</p>
<p>Let's display <code>iv</code> without using the
<strong>Quote</strong> shortcut.</p>
<pre><code>   iv‚Üê ...
   ‚àÜF &#39;{iv}&#39;
1 2 3 4 5</code></pre>
<p>Are you <strong><em>sure</em></strong> which elements of
<code>iv</code> are numeric and which character scalars?</p>
<details id="pPeek"><summary class="summary">&ensp;Peek to see the example with `iv` defined.</summary>

<pre><code>   iv‚Üê 1 2 &#39;3&#39; 4 &#39;5&#39;
   ‚àÜF &#39;{iv}&#39;
1 2 3 4 5</code></pre>
</details>

<p>Now, we'll show the variable <code>iv</code> using the
<strong>Quote</strong> <code>`Q</code> shortcut.</p>
<pre><code>   iv‚Üê 1 2 &#39;3&#39; 4 &#39;5&#39;
   ‚àÜF &#39;{`Q iv}&#39;</code></pre>
<details id="pPeek"><summary class="summary">&ensp;Take a peek at the <bold>‚àÜF</bold> output.</summary>

<pre><code>1 2 &#39;3&#39; 4 &#39;5&#39;</code></pre>
</details>

<p>Voil√†, quotes appear around the character digits, but not the actual
APL numbers!</p>
<h2 data-number="5.19" id="the-wrap-shortcut-experimental"><span
class="header-section-number">5.19</span> The Wrap Shortcut
<span class="red">(Experimental)</span></h2>
<div class="test-feature">

<blockquote>
<p>Wrapping results in left and right decorators...</p>
</blockquote>
<p>The shortcut <strong>Wrap</strong> <code>`W</code> is
<span class="red"><strong><em>experimental</em></strong></span>.
<code>`W</code> is used when you want to place a
<strong><em>decorator</em></strong> string immediately to the left or
right of <strong><em>each</em></strong> row of simple objects in the
right argument, <code>‚çµ</code>. It differs from the
<strong>Quote</strong> shortcut <code>`Q</code>, which puts quotes
<strong><em>only</em></strong> around the character arrays in
<code>‚çµ</code>. <span class="margin-note">For more, see <a
href="#wrap-shortcut-details-experimental">Wrap Shortcut: Details</a>
<em>below</em>. </span></p>
<ul>
<li>The decorators are in <code>‚ç∫</code>, the left argument to
<strong>Wrap</strong>: the left decorator, <code>0‚äÉ2‚ç¥‚ç∫</code>, and the
right decorator, <code>1‚äÉ2‚ç¥‚ç∫</code>, with <code>‚ç∫</code> defaulting to a
single quote.</li>
<li>If you need to omit one or the other decorator, simply make it a
null string <code>""</code> or a <em>zilde</em>¬†<code>‚ç¨</code>.</li>
</ul>
<p><strong>Here are two simple examples.</strong></p>
<p>In the first, we place <code>"¬∞C"</code> after <strong>[a]</strong>
each row of a table <code>‚ç™`‚çµ2</code>, or <strong>[b]</strong> after
each simple vector in <code>,¬®`‚çµ2</code>. We indicate that is no
<em>left</em> decorator here using <code>""</code> or <code>‚ç¨</code>, as
here.</p>
<pre><code>‚çù         ... [a] ...       .... [b] ....
    ‚àÜF &#39;{ `‚çµ1 `W ‚ç™`‚çµ2 } ...{ `‚çµ1 `W ,¬®`‚çµ2 }&#39; (‚ç¨ &#39;¬∞C&#39;)(18 22 33)
18¬∞C ... 18¬∞C 22¬∞C 33¬∞C
22¬∞C
33¬∞C</code></pre>
<p>In this next example, we place brackets around the lines of each
simple array in a complex array.</p>
<pre><code>   ‚àÜF &#39;{&quot;[]&quot; `W (&quot;cats&quot;)(‚ç≥2 2 1)(2 2‚ç¥‚ç≥4)(3 3‚ç¥‚éïA) }&#39;
[cats] [0 0 0] [0 1] [ABC]
       [0 1 0] [2 3] [DEF]
                     [GHI]
       [1 0 0]
       [1 1 0]</code></pre>
<p>Try recasting this earlier example to use <strong>Wrap</strong>
<code>`W</code>.</p>
<pre><code>   n‚Üê ‚â¢names‚Üê &#39;Mary&#39; &#39;Jack&#39; &#39;Tony&#39; 
   prize‚Üê 1000
   ‚àÜF &#39;{ ‚Üënames }{ ‚ç™n‚ç¥ ‚äÇ&quot;wins&quot; }{ &quot;¬£&quot;, ‚çï‚ç™?n‚ç¥ prize }&#39;</code></pre>
<details id="pPeek"><summary class="summary">&ensp;Below is one solution...</summary>

<p><span class="margin-note"><br><br>The string <code>"wins "</code> is
the left prefix to <strong>Wrap</strong>, and <code>""</code> the
right.</span></p>
<pre><code>   n‚Üê ‚â¢names‚Üê &#39;Mary&#39; &#39;Jack&#39; &#39;Tony&#39; 
   prize‚Üê 1000                              
   ‚àÜF &#39;{ ‚Üënames } { &quot;wins &quot; &quot;&quot; `W &quot;¬£&quot;, ‚çï‚ç™?n‚ç¥ prize }&#39;
Mary wins ¬£201
Jack wins ¬£ 73
Tony wins ¬£349</code></pre>
</details>
</div>

<h2 data-number="5.20"
id="precomputed-fstrings-with-the-dfn-option"><span
class="header-section-number">5.20</span> Precomputed f‚Äëstrings with the
<span style="font-size: 80%;"><em><strong>DFN</strong></em></span>
Option</h2>
<p><span class="margin-note"><strong>‚àÜF</strong>'s default initial
option (left argument) is <code>0</code>, so <code>0 ‚àÜF‚Ä¶</code> and
<code>‚àÜF‚Ä¶</code> are equivalent. We discuss all <a
href="#f-call-syntax-details">the options to ‚àÜF</a> below. </span> The
default returned from <strong>‚àÜF</strong> is always (on success) a
character matrix. That can be expressed schematically via expression
<em>(a),</em> shown here:</p>
<pre><code>(a) 0 ‚àÜF‚Ä¶ </code></pre>
<p>However, if the initial <a href="#f-call-syntax-details">‚àÜF
Option</a>,‚ÄÇ<strong><em>DFN</em></strong>, is <code>1</code>, as in
<em>(b),</em></p>
<pre><code>(b) 1 ‚àÜF‚Ä¶ </code></pre>
<p>then <span class="margin-note">This assumes the resulting dfn is
called with the same arguments in the same calling environment in the
same state.</span> <strong>‚àÜF</strong> returns a <strong>dfn</strong>
that, <em>when called later</em>, will return precisely the same
character expression as for <em>(a)</em>. This is most useful when you
are making repeated use of an <em>f‚Äëstring</em>, since the overhead for
analyzing the <em>f‚Äëstring</em> contents <em>once</em> will be amortized
over <em><strong>all</strong></em> the calls.</p>
<p>Let's explore an example where getting the best performance for a
heavily used <strong>‚àÜF</strong> string is important.</p>
<p>First, let's grab <code>cmpx</code> and set the variable
<code>cv</code>, so we can compare the performance‚Ä¶</p>
<pre><code>   &#39;cmpx&#39; ‚éïCY &#39;dfns&#39;
   cv‚Üê 11 30 60 </code></pre>
<p>Now, let's proceed. Here's our <strong>‚àÜF</strong> String
<code>t</code>:</p>
<pre><code>   t‚Üê&#39;The temperature is {&quot;I2&quot; $ cv}¬∞C or {&quot;F5.1&quot; $ F‚Üê 32+9√ócv√∑5}¬∞F&#39;</code></pre>
<details id="pPeek"><summary class="summary">Evaluate <code>‚àÜF t</code>...</summary>

<pre><code>   ‚àÜF t 
The temperature is 11¬∞C or  51.8¬∞F
                   30       86.0  
                   60      140.0  </code></pre>
</details>

<p>Let's precompute a dfn <code>T</code>, given the string
<code>t</code>.‚ÄÇ<code>T</code> has everything needed to generate the
output (given the same definition of the vector <code>cv</code>, when
<code>T</code> is evaluated).</p>
<pre><code>   T‚Üê 1 ‚àÜF t</code></pre>
<details id="pPeek"><summary class="summary">Evaluate <code>T ‚ç¨</code>...</summary>

<pre><code>   T ‚ç¨
The temperature is 11¬∞C or  51.8¬∞F
                   30       86.0  
                   60      140.0  </code></pre>
</details>

<p>Now, let's compare the performance of the two formats.
<span class="margin-note"><br><br><br>Both <code>t</code> and
<code>T</code> will reference <code>cv</code>.</span></p>
<pre><code>   cmpx &#39;‚àÜF t&#39; &#39;T ‚ç¨&#39;
‚àÜF t ‚Üí 1.7E¬Ø4 |   0% ‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï
 T ‚ç¨ ‚Üí 1.0E¬Ø5 | -94% ‚éï‚éï</code></pre>
<p>The precomputed version is about <mark>17 times faster</mark>, at
least in this run.</p>
<p>Before we get to syntax and other information, we want to show you
that <span class="margin-note">The <em>dfn</em> returned includes the
original <em>f‚Äëstring</em> text used to generate it, available as
<code>`‚çµ0</code>.</span> the <em>dfn</em> returned via the <em>DFN</em>
option can retrieve one or more arguments passed on the right side of
<strong>‚àÜF</strong>, using the very same omega shortcut expressions
(like <code>`‚çµ1</code>) we've discussed above.</p>
<p>Let's share the Centigrade values <code>cv</code> from our current
example, not as a <em>variable</em>, but as the <em>first argument</em>
to <strong>‚àÜF</strong>. We'll access the value as <code>`‚çµ1`</code>.</p>
<pre><code>   t‚Üê&#39;The temperature is {&quot;I2&quot; $ `‚çµ1}¬∞C or {&quot;F5.1&quot; $ F‚Üê 32+9√ó`‚çµ1√∑5}¬∞F&#39;
   T‚Üê 1 ‚àÜF t

   ‚àÜF t (11 30 60)
The temperature is 11¬∞C or  51.8¬∞F
                   30       86.0  
                   60      140.0 

   T ‚äÇ(11 30 60)
The temperature is 11¬∞C or  51.8¬∞F
                   30       86.0  
                   60      140.0 

   cmpx &#39;‚àÜF t (11 30 60)&#39; &#39;T ‚äÇ(11 30 60)&#39;
‚àÜF t 35 ‚Üí 1.8E¬Ø4 |   0% ‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï‚éï
   T 35 ‚Üí 1.2E¬Ø5 | -94% ‚éï‚éï</code></pre>
<p>The precomputed version shows a comparable speedup over the default
version, around <mark>15 times faster</mark>.</p>
<hr />
<p>Below, we summarize key information you've already gleaned from the
examples.</p>
</details>

<h1 data-number="6" id="f-syntax-and-other-information"><span
class="header-section-number">6</span> ‚àÜF Syntax and Other
Information</h1>
<details>        <!-- option: open -->       
<summary class="summary">&ensp;Show/Hide <em>Syntax Info</em></summary>

<h2 data-number="6.1" id="f-call-syntax-overview"><span
class="header-section-number">6.1</span> ‚àÜF Call Syntax Overview</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Call
Syntax<div style="width:290px"></div></th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td
style="text-align: left;"><strong>‚àÜF</strong>‚ÄÇ<em><strong>f‚Äëstring</strong></em></td>
<td style="text-align: left;">Display an <em>f‚Äëstring</em>; use the
<em>default</em> options. The string may reference objects in the
environment or in the string itself. Returns a character matrix.</td>
</tr>
<tr>
<td
style="text-align: left;"><strong>‚àÜF</strong>‚ÄÇ<em><strong>f‚Äëstring</strong></em>‚ÄÇ<em><strong>args</strong></em></td>
<td style="text-align: left;">Display an <em>f‚Äëstring</em>; use the
<em>default</em> options. Arguments presented <em>may</em> be referred
to in the f‚Äëstring. Returns a character matrix.</td>
</tr>
<tr>
<td
style="text-align: left;"><em><strong>options</strong></em>‚ÄÇ<strong>‚àÜF</strong>‚ÄÇ<em><strong>f‚Äëstring</strong></em>‚ÄÇ[<em><strong>args</strong></em>]</td>
<td style="text-align: left;">Display an <em>f‚Äëstring</em>; control the
result with <em>options</em> specified (see below). <br>If <em>DFN</em>
(see below) is <code>0</code> or omitted, returns a character
matrix.<br>If <em>DFN</em> is <code>1</code>, returns a dfn that will
display such a matrix (given an identical system state).</td>
</tr>
<tr>
<td style="text-align: left;">'help'‚ÄÇ<strong>‚àÜF</strong>‚ÄÇ'‚Äâ'</td>
<td style="text-align: left;">Display help info and examples for
<strong>‚àÜF</strong>. The <em>f‚Äëstring</em> is not examined.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>‚àÜF</strong>‚ç®'help'</td>
<td style="text-align: left;">Display help info and examples for
<strong>‚àÜF</strong>.</td>
</tr>
</tbody>
</table>
<div>Table 6a. <strong>‚àÜF Call Syntax Overview</strong></div>

<br>

<h2 data-number="6.2" id="f-call-syntax-details"><span
class="header-section-number">6.2</span> ‚àÜF Call Syntax Details</h2>
<table>
<thead>
<tr>
<th
style="text-align: left;">Element<div style="width:290px"></div></th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong><em>f‚Äëstring</em></strong></td>
<td style="text-align: left;">a format string, a single character
vector.</td>
</tr>
<tr>
<td style="text-align: left;"><strong><em>args</em></strong></td>
<td style="text-align: left;">elements of ‚çµ after the <em>f‚Äëstring</em>,
each of which can be accessed in the <em>f‚Äëstring</em> via an
<strong>Omega</strong> shortcut (<code>`‚çµùëëùëë</code>, <em>etc.</em>) or an
ordinary <em>dfn</em> <code>‚çµ</code> expression.</td>
</tr>
<tr>
<td
style="text-align: left;"><em><strong>options</strong></em>:¬†<em>mode</em></td>
<td style="text-align: left;"><code>options‚Üê</code>
<span class="red">[</span> <span class="red">[</span> <code>0</code>
<span class="red">[</span> <code>0</code> <span class="red">[</span>
<code>0</code> <span class="red">[</span> <code>0</code>
<span class="red">]</span> <span class="red">]</span>
<span class="red">]</span> <span class="red">]</span>
¬†<span class="red"><strong>|</strong></span> <code>'help'</code>
<span class="red">]</span></td>
</tr>
<tr>
<td
style="text-align: left;">‚ÄÉ<em><strong>options[0]</strong></em>:<br>‚ÄÉ‚ÄÉ
<em><strong>DFN</strong></em> <em>output mode</em></td>
<td style="text-align: left;">If <code>1</code>: <strong>‚àÜF</strong>
returns a dfn, which (upon execution) produces the same output as the
default mode.<br>If <code>0</code> (default): <strong>‚àÜF</strong>
returns a char. matrix.</td>
</tr>
<tr>
<td
style="text-align: left;">‚ÄÉ<em><strong>options[1]</strong></em>:<br>‚ÄÉ‚ÄÉ
<em><strong>DBG</strong></em> <em>(debug) mode</em></td>
<td style="text-align: left;">If <code>1</code>: Renders newline
characters from <code>`‚óá</code> as the visible <code>‚ê§</code> character.
Displays the source code that the <em>f‚Äëstring</em>
<strong><em>actually</em></strong> generates; if
<strong><em>DFN</em></strong> is also <code>1</code>, this will include
the embedded <em>f‚Äëstring</em> source (accessed as <code>`‚çµ0</code>).
After the source code is displayed, it will be executed or converted to
a <em>dfn</em> and returned (see the <em><strong>DFN</strong></em>
option above).<br>If <code>0</code> (default): Newline characters from
<code>`‚óá</code> are rendered normally as carriage returns,
<code>‚éïUCS 13</code>; the <em><strong>DFN</strong></em> source code is
not displayed.</td>
</tr>
<tr>
<td
style="text-align: left;">‚ÄÉ<em><strong>options[2]</strong></em>:<br>‚ÄÉ‚ÄÉ
<em><strong>BOX</strong></em> <em>mode</em></td>
<td style="text-align: left;">If <code>1</code>: Each field (except a
null <strong>Text</strong> field) is boxed separately.<br>If
<code>0</code> (default): Nothing is boxed automatically. Any
<strong>Code</strong> field expression may be explicitly boxed using the
<strong>Box</strong> shortcut,
<code>`B</code>.<br><small><strong>Note</strong>:
<em><strong>BOX</strong></em> mode can be used both with
<em><strong>DFN</strong></em> and default output mode.</small></td>
</tr>
<tr>
<td
style="text-align: left;">‚ÄÉ<em><strong>options[3]</strong></em>:<br>‚ÄÉ‚ÄÉ<em><strong>INLINE</strong></em>
<em>mode</em></td>
<td style="text-align: left;">If <code>1</code> and the
<em><strong>DFN</strong></em> option is set: The code for each internal
support function used is included in the <em>dfn</em> result;
<em><strong>no</strong></em> reference to namespace
<strong>‚çôFapl</strong> will be made during the execution of that
<em>dfn</em>.<br>If <code>0</code> (default): Whenever
<strong>‚àÜF</strong> or a <em>dfn</em> generated by it is executed, it
makes calls to library routines in the namespace <strong>‚çôFapl</strong>,
created during the <code>]load ‚àÜFapl</code>
process.<br><small><strong>Note:</strong> This option is experimental
and may simply disappear one day.</small></td>
</tr>
<tr>
<td style="text-align: left;">‚ÄÉ'help'</td>
<td style="text-align: left;">If <code>'help'</code> is specified, this
amazing documentation is displayed.</td>
</tr>
<tr>
<td style="text-align: left;"><strong><em>result</em></strong></td>
<td style="text-align: left;">If <code>0=‚äÉoptions</code>, the result is
always a character matrix.<br>If <code>1=‚äÉoptions</code>, the result is
a dfn that, <em>when executed in the same environment with the same
arguments</em>, generates that same character matrix.
<br><small><strong>Note</strong>: If an error is signalled, no result is
returned.</small></td>
</tr>
</tbody>
</table>
<div>Table 6b. <strong>‚àÜF Call Syntax Details</strong></div>

<br>

<h2 data-number="6.3" id="f-options"><span
class="header-section-number">6.3</span> ‚àÜF Options</h2>
<ul>
<li>If the left argument <code>‚ç∫</code> is omitted, the options default
to <code>4‚ç¥0</code>.</li>
<li>If the left argument <code>‚ç∫</code> is a simple integer vector or
scalar, or an empty numeric vector <code>‚ç¨</code>, the options are
<code>4‚Üë‚ç∫</code>; subsequent elements are ignored;</li>
<li>If the left argument <code>‚ç∫</code> starts with <code>'help'</code>
(case ignored), this help information is displayed. In this case only,
the right argument to <strong>‚àÜF</strong> is ignored.</li>
<li>Otherwise, an error is signaled.</li>
</ul>
<h2 data-number="6.4" id="f-return-value"><span
class="header-section-number">6.4</span> ‚àÜF Return Value</h2>
<ul>
<li>Unless the <strong>DFN</strong> option is selected,
<strong>‚àÜF</strong> always returns a character matrix of at least one
row and zero columns, <code>1 0‚ç¥0</code>, on success. If the 'help'
option is specified, <strong>‚àÜF</strong> displays this information,
returning <code>1 0‚ç¥0</code>.</li>
<li>If the <strong>DFN</strong> option is selected, <strong>‚àÜF</strong>
always returns a standard Dyalog dfn on success.</li>
<li>On failure of any sort, an informative APL error is signaled.</li>
</ul>
<h2 data-number="6.5" id="f-fstring-building-blocks"><span
class="header-section-number">6.5</span> ‚àÜF F‚Äëstring Building
Blocks</h2>
<p>The first element in the right arg to ‚àÜF is a character vector, an
<em>f‚Äëstring</em>, which contains one or more <strong>Text</strong>
fields, <strong>Code</strong> fields, and <strong>Space</strong> fields
in any combination.</p>
<ul>
<li><strong>Text</strong> fields consist of simple text, which may
include any Unicode characters desired, including newlines.
<ul>
<li>Newlines (actually, carriage returns, <code>‚éïUCS 13</code>) are
normally entered via the sequence <code>`‚óá</code>.</li>
<li>Additionally, literal curly braces can be added via <code>`{</code>
and <code>`}</code>, so they are distinct from the simple curly braces
used to begin and end <strong>Code</strong> fields and
<strong>Space</strong> fields.</li>
<li>Finally, to enter a single backtick <code>`</code> just before the
special symbols <code>{</code>, <code>}</code>, <code>‚óá</code>, or
<code>`</code>, enter <em><strong>two</strong></em> backticks
<code>``</code>; if preceding any ordinary symbol, a
<em><strong>single</strong></em> backtick will suffice.</li>
<li>If <strong>‚àÜF</strong> is called with an empty string,
<code>‚àÜF ''</code>, it is interpreted as containing a single 0-length
<strong>Text</strong> field, returning a matrix of shape
<code>1 0</code>.</li>
</ul></li>
<li><strong>Code</strong> fields are run-time evaluated expressions
enclosed within simple, unescaped curly braces <code>{ }</code>,
<em>i.e.</em> those not preceded by a backtick (see the previous
paragraph).
<ul>
<li><strong>Code</strong> fields are, under the covers, Dyalog
<em>dfns</em> with some extras.</li>
<li>For escape sequences, see <strong>Escape Sequences</strong>
below.</li>
</ul></li>
<li><strong>Space</strong> fields appear to be a special,
<em>degenerate</em>, form of <strong>Code</strong> fields, consisting of
a single pair of simple (unescaped) curly braces <code>{}</code> with
zero or more spaces in between.
<ul>
<li>A <strong>Space</strong> field with zero spaces is a
<em><strong>null</strong></em> <strong>Space</strong> field; while it
may separate any other fields, its typical use is to separate two
adjacent <strong>Text</strong> fields.</li>
<li>Between fields, <strong>‚àÜF</strong> adds no automatic spaces; that
spacing is under user control.</li>
</ul></li>
</ul>
<h2 data-number="6.6" id="code-field-shortcuts"><span
class="header-section-number">6.6</span> Code Field Shortcuts</h2>
<p><strong>‚àÜF</strong> <strong>Code</strong> fields may contain various
shortcuts, intended to be concise and expressive tools for common tasks.
<strong>Shortcuts</strong> are valid in <strong>Code</strong> fields
only <em>outside</em> <strong>Quoted strings</strong>.</p>
<p><strong>Shortcuts</strong> include:</p>
<table>
<thead>
<tr>
<th
style="text-align: left;">Shortcut<div style="width:100px"></div></th>
<th style="text-align: left;">Name<div style="width:150px"></div></th>
<th style="text-align: left;">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>`A</strong>,
<strong>%</strong></td>
<td style="text-align: left;">Above</td>
<td style="text-align: left;"><code>[‚ç∫] % ‚çµ</code>. Centers array
<code>‚ç∫</code> above array <code>‚çµ</code>.<br>If omitted,
<code>‚ç∫‚Üê''</code>, <em>i.e.</em> a blank line.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>`B</strong></td>
<td style="text-align: left;">Box</td>
<td style="text-align: left;"><code>`B ‚çµ</code>. Places <code>‚çµ</code>
in a box. <code>‚çµ</code> is any array.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>`C</strong></td>
<td style="text-align: left;">Commas</td>
<td style="text-align: left;"><code>`C ‚çµ</code>. Adds commas to
<code>‚çµ</code> after every 3rd digit of the integer part of
<code>‚çµ</code>, right-to-left. <code>‚çµ</code> is a vector of num strings
or numbers.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>`D</strong></td>
<td style="text-align: left;">Date-Time</td>
<td style="text-align: left;">Synonym for <strong>`T</strong>.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>`F</strong>,
<strong>$</strong></td>
<td style="text-align: left;">‚éïFMT</td>
<td style="text-align: left;"><code>[‚ç∫] $ ‚çµ</code>. Short for
<code>[‚ç∫] ‚éïFMT ‚çµ</code>. (See APL documentation).</td>
</tr>
<tr>
<td style="text-align: left;"><strong>`J</strong></td>
<td style="text-align: left;">Justify</td>
<td style="text-align: left;"><code>[‚ç∫] `J ‚çµ</code>. Justify each row of
a matrix:<br>‚ÄÉ<em>left</em>: ‚ç∫="L"; <em>center</em>: ‚ç∫="C";
<em>right</em> ‚ç∫="R".<br>You may use
<code>¬Ø1</code>|<code>0</code>|<code>1</code> in place of
<code>"L"</code>|<code>"C"</code>|<code>"R"</code>.<br>If omitted,
<code>‚ç∫‚Üê'L'</code>. <em>Note: Displays numbers at
<code>‚éïPP=34</code>.</em></td>
</tr>
<tr>
<td style="text-align: left;"><strong>`Q</strong></td>
<td style="text-align: left;">Quote</td>
<td style="text-align: left;"><code>[‚ç∫]`Q ‚çµ</code>. Recursively scans
<code>‚çµ</code>, putting char. vectors, scalars, and rows of
higher-dimensional strings in APL quotes, leaving other elements as
is.<br>If omitted, <code>‚ç∫‚Üê''''</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>`T</strong></td>
<td style="text-align: left;">Date-Time</td>
<td style="text-align: left;"><code>[‚ç∫]`T ‚çµ</code>. Displays
timestamp(s) <code>‚çµ</code> according to date-time template
<code>‚ç∫</code>. <code>‚çµ</code> is one or more APL timestamps
<code>‚éïTS</code>. <code>‚ç∫</code> is a date-time template in
<code>1200‚å∂</code> format.<br>If omitted,
<code>‚ç∫‚Üê 'YYYY-MM-DD hh:mm:ss'</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>`W</strong></td>
<td style="text-align: left;">Wrap
<span class="red"><small><strong>EXPERIMENTAL!</strong></small></span></td>
<td style="text-align: left;"><code>[‚ç∫]`W ‚çµ</code>. Wraps the rows of
simple arrays in ‚çµ in decorators <code>0‚äÉ2‚ç¥‚ç∫</code> (on the left) and
<code>1‚äÉ2‚ç¥‚ç∫</code> (on the right).<br>If omitted, <code>‚ç∫‚Üê''''</code>.
<em>See details below.</em></td>
</tr>
<tr>
<td style="text-align: left;"><strong>`‚çµùëëùëë</strong>,
<strong>‚çπùëëùëë</strong></td>
<td style="text-align: left;">Omega Shortcut
(<small>EXPLICIT</small>)</td>
<td style="text-align: left;">A shortcut of the form <code>`‚çµùëëùëë</code>
(or <code>‚çπùëëùëë</code>), to access the <code>ùëëùëë</code><strong>th</strong>
element of <code>‚çµ</code>, <em>i.e.</em> <code>(‚çµ‚äÉ‚ç® ùëëùëë+‚éïIO)</code>.
<em>See details below.</em></td>
</tr>
<tr>
<td style="text-align: left;"><strong>`‚çµ</strong>,
<strong>‚çπ</strong></td>
<td style="text-align: left;">Omega Shortcut
(<small>IMPLICIT</small>)</td>
<td style="text-align: left;">A shortcut of the form <code>`‚çµ</code> (or
<code>‚çπ</code>), to access the <strong><em>next</em></strong> element of
<code>‚çµ</code>. <em>See details below.</em></td>
</tr>
<tr>
<td style="text-align: left;"><strong>‚Üí</strong><br><strong>‚Üì</strong>
<em>or</em> <strong>%</strong></td>
<td style="text-align: left;">Self-documenting <strong>Code</strong>
Fields <small>(SDCFs)</small></td>
<td style="text-align: left;"><code>‚Üí</code>/<code>‚Üì</code> (synonym:
<code>%</code>) signal that the source code for the
<strong>Code</strong> field appears before/above its value. Surrounding
blanks are significant. <em>See <a
href="#self-documenting-code-fields-sdcfs">SDCFs</a> in
<strong>Examples</strong> for details.</em></td>
</tr>
</tbody>
</table>
<div>Table 6c. <strong>Code Field Shortcuts</strong></div>

<br>

<h2 data-number="6.7"
id="escape-sequences-for-text-fields-and-quoted-strings"><span
class="header-section-number">6.7</span> Escape Sequences For Text
Fields and Quoted Strings</h2>
<p><span class="margin-note">See <a
href="#quoted-strings-in-code-fields">Quoted Strings in Code Fields</a>
below on displaying quote characters like <code>"</code> in a string.
</span> <strong>‚àÜF</strong> <strong>Text</strong> fields and
<strong>Quoted strings</strong> in <strong>Code</strong> fields may
include a small number of escape sequences, beginning with the backtick
<code>`</code>. Some sequences are valid in <strong>Text</strong> fields
<em>only</em>, but not in Quoted strings:</p>
<p><span class="margin-note"><br><br><strong>Both</strong>:
<em>i.e.</em> <strong>Text</strong> fields and <em>Quoted Strings</em>
in <strong>Code</strong> fields. </span></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Escape Sequence</th>
<th style="text-align: center;">What It Inserts</th>
<th style="text-align: center;">Description</th>
<th style="text-align: center;">Where Special</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong>`‚óá</strong></td>
<td style="text-align: center;"><em>newline</em></td>
<td style="text-align: center;">‚éïUCS 13</td>
<td style="text-align: center;">Both</td>
</tr>
<tr>
<td style="text-align: center;"><strong>``</strong></td>
<td style="text-align: center;">`</td>
<td style="text-align: center;">backtick</td>
<td style="text-align: center;">Both</td>
</tr>
<tr>
<td style="text-align: center;"><strong>`{</strong></td>
<td style="text-align: center;">{</td>
<td style="text-align: center;">left brace</td>
<td style="text-align: center;">Text fields only</td>
</tr>
<tr>
<td style="text-align: center;"><strong>`}</strong></td>
<td style="text-align: center;">}</td>
<td style="text-align: center;">right brace</td>
<td style="text-align: center;">Text fields only</td>
</tr>
</tbody>
</table>
<div>Table 6d. <strong>Escape Sequences</strong></div>

<p>Other instances of the backtick character in <strong>Text</strong>
fields or <strong>Quoted strings</strong> in <strong>Code</strong>
fields will be treated literally, <em>i.e.</em> sometimes a backtick is
just a backtick.</p>
<h2 data-number="6.8" id="quoted-strings-in-code-fields"><span
class="header-section-number">6.8</span> Quoted Strings in Code
Fields</h2>
<p>As mentioned in the introduction, <strong>Quoted strings</strong> in
<strong>Code</strong> fields allow several delimiting quote styles:</p>
<ul>
<li><strong>double-quotes</strong><br>
<code>‚àÜF '{"like ¬´this¬ª one"}'</code> or
<code>‚àÜF '{"like ''this'' one."}'</code>,</li>
<li><strong>double angle quotation marks</strong>,<br>
<code>‚àÜF '{¬´like "this" or ''this''.¬ª}'</code>,<br />
as well as</li>
<li>APL's tried-and-true embedded <strong>single-quotes</strong>,<br>
<code>‚àÜF '{''shown like ''''this'''', "this" or ¬´this¬ª.''}'</code>.</li>
</ul>
<p><span class="margin-note">Compare these
examples:<br>‚ÄÉ<strong>Invalid:</strong>‚ÄÇ<span class="red">‚àÜF‚ÄÇ'{"abc`"def"}'</span><br>‚ÄÉ<strong>Valid:</strong>‚ÄÇ<code>‚àÜF '{"abc""def"}'</code>
</span> If you wish to include a traditional delimiting quote
(<code>'</code> or <code>"</code>) or the closing quote of a quote pair
(<code>¬´</code>‚ÄÇ<code>¬ª</code>) within the <strong>Quoted
string</strong>, you must double it. You may <em>not</em> use an escape
sequence (e.g. <code>`"</code>) for this purpose.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Closing Quote</th>
<th style="text-align: left;">Example</th>
<th style="text-align: left;">Result</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><code>"</code></td>
<td
style="text-align: left;"><code>‚àÜF '{"like ""this"" example"}'</code></td>
<td style="text-align: left;"><code>like "this" example</code></td>
</tr>
<tr>
<td style="text-align: center;"><code>¬ª</code></td>
<td style="text-align: left;"><code>‚àÜF '{¬´or ¬´this¬ª¬ª one¬ª}'</code></td>
<td style="text-align: left;"><code>or ¬´this¬ª one</code></td>
</tr>
<tr>
<td style="text-align: center;"><code>'</code></td>
<td
style="text-align: left;"><code>‚àÜF '{''or ''''this'''' one''}'</code></td>
<td style="text-align: left;"><code>or 'this' one</code></td>
</tr>
</tbody>
</table>
<div>Table 6e. <strong>Closing Quotes</strong></div>

<p>Note that the opening quote <code>¬´</code> is treated as an ordinary
character within the string. The clumsiness of the standard single quote
<code>'</code> examples is due to the fact that the single quote is the
required delimiter for the outermost (APL-level) string.</p>
<h2 data-number="6.9" id="omega-shortcut-expressions-details"><span
class="header-section-number">6.9</span> Omega Shortcut Expressions:
Details</h2>
<ol type="1">
<li><strong>‚çπ</strong> is a synonym for <strong>`‚çµ</strong>. It is
Unicode character <code>‚éïUCS 9081</code>. Either expression is valid
only in <strong>Code</strong> fields and outside <strong>Quoted
strings</strong>.</li>
<li><strong>`‚çµ</strong> or <strong>‚çπ</strong> uses an "<em>omega index
counter</em>" (<strong>OIC</strong>) which we'll represent as
<strong>Œ©</strong>, common across all <strong>Code</strong> fields,
which is initially set to zero, <code>Œ©‚Üê0</code>. (<strong>Œ©</strong> is
just used for explication; don't actually use this symbol)</li>
<li>All <strong>Omega</strong> shortcut expressions in the
<em>f‚Äëstring</em> are evaluated left to right and are
‚éïIO-independent.</li>
<li><strong>`‚çµùëëùëë</strong> or <strong>‚çπùëëùëë</strong> sets the <em>OIC</em>
to ùëëùëë, <code>Œ©‚Üêùëëùëë</code>, and returns the expression
<code>(‚çµ‚äÉ‚ç®Œ©+‚éïIO)</code>. Here <strong>ùëëùëë</strong> must be a
<em>non-negative integer</em> with at least 1 digit.</li>
<li>Bare <strong>`‚çµ</strong> or <strong>‚çπ</strong> (<em>i.e.</em> with
no digits appended) increments the <em>OIC</em>, <code>Œ©+‚Üê1</code>,
<em>before</em> using it as the index in the expression
<code>(‚çµ‚äÉ‚ç®Œ©+‚éïIO)</code>.</li>
<li>The <em>f‚Äëstring</em> itself (the 0-th element of
<strong>‚çµ</strong>) is always accessed as <code>`‚çµ0</code> or
<code>‚çπ0</code>. The omega with <em>implicit index</em> always
increments its index <em>before</em> use, <em>i.e.</em> starting by
default with <code>`‚çµ1</code> or <code>‚çπ1</code>.</li>
<li>If an element of the dfn's right argument <strong>‚çµ</strong> is
accessed at runtime via any means, shortcut or traditional, that element
<strong><em>must</em></strong> exist.</li>
</ol>
<div class="test-feature">

<h2 data-number="6.10" id="wrap-shortcut-details-experimental"><span
class="header-section-number">6.10</span> Wrap Shortcut: Details
(Experimental)</h2>
<ol type="1">
<li>Syntax: <code>[‚ç∫‚Üê''''] `W ‚çµ</code>.</li>
<li>Let <code>L‚Üê0‚äÉ2‚ç¥‚ç∫</code> and <code>R‚Üê1‚äÉ2‚ç¥‚ç∫</code>.</li>
<li>Wrap each row <code>X‚Ä≤</code> of the simple arrays <code>X</code> in
<code>‚çµ</code> (or the entire array <code>X</code> if a simple vector or
scalar) in decorators <code>L</code> and <code>R</code>:
<code>L,(‚çïX‚Ä≤),R</code>.</li>
<li><code>‚çµ</code> is an array of any shape and depth.<code>L</code>and
<code>R</code>are char. vectors or scalars or <code>‚ç¨</code> (treated as
<code>''</code>).</li>
<li>If there is one scalar or enclosed vector <code>‚ç∫</code>, it is
replicated <em>per (2) above</em>.</li>
<li>By default,<code>‚ç∫‚Üê ''''</code>,<em>i.e.</em> APL quotes will wrap
the array ‚çµ, row by row, whether character, numeric or otherwise.</li>
</ol>
<hr />
</div> 
</details> 

<h1 data-number="7" id="appendices"><span
class="header-section-number">7</span> Appendices</h1>
<details><summary class="summary">&ensp;Show/Hide <em>Appendices</em></summary>

<h2 data-number="7.1" id="appendix-i-undocumented-options"><span
class="header-section-number">7.1</span> Appendix I: Undocumented
Options</h2>
<ol type="1">
<li><p>If <code>options[0]</code> is <code>¬Ø1</code>,
<span class="margin-note">In simple terms, this option returns the
character representation of the <em>dfn</em> returned via the
<em><strong>DFN</strong></em> option. </span>then <strong>‚àÜF</strong>
returns a character vector that contains the source code for the
<em>dfn</em> that would have been returned via the
<em><strong>DFN</strong></em> option, <code>options[0]=1</code>. If
<em><strong>DBG</strong></em> is also set, newlines from <code>`‚óá</code>
are shown as visible <code>‚ê§</code>. However, since this option
<em>returns</em> the code string, the <em><strong>DBG</strong></em>
option won't also <em>display</em> the code string.</p></li>
<li><p><code>‚àÜF 'help'</code> has a secret variant:
<span class="margin-note"><em>Or</em>,
<code>‚àÜF 'help-n'</code>.</span><code>‚àÜF 'help-narrow'</code>. With this
variant, the help session will start up with a narrower screen
<em>without</em> side notes. If the user widens the screen, the side
notes will appear, as in the default case:
<span class="margin-note"><em>Or</em>,
<code>‚àÜF 'help-wide'</code>.</span><code>‚àÜF 'help'</code>.</p></li>
</ol>
<h2 data-number="7.2" id="appendix-ii-python-fstrings"><span
class="header-section-number">7.2</span> Appendix II: Python
f‚Äëstrings</h2>
<p>‚ÄÉ Python f-strings, introduced in Python 3.6, are a modern and
elegant way to format strings by embedding expressions directly inside
string literals. You create an f-string by prefixing a string with the
letter 'f' or 'F', and then you can include any Python expression inside
curly braces within the string. When the string is evaluated, these
expressions are executed and their results are automatically converted
to strings and inserted at that position. <br>‚ÄÉ For example, the Python
expression‚ÄÇ<strong><code>f"The sum of {a} and {b} is {a + b}"</code></strong>‚ÄÇwould
evaluate the addition and embed the result directly in the string. This
combination of simplicity, power, and performance has made f-strings the
preferred string formatting approach in modern Python code. <em>[Claude
(AI). Response to Python f-strings query [edited]. Claude.ai. Anthropic,
October 19, 2025.]</em></p>
<p><em>See</em>
<span class="margin-note"><a id="displayText" href="#overview">Return to
Overview.</a></span>
<a id="displayText" href="javascript:linkAlert();"><span class="linkNote">https://docs.python.org/3/tutorial/inputoutput.html#formatted-string-literals</span></a>.</p>
</div>
</div>

</details>

<!-- Put a set of navigation tools at a fixed position at the bottom of the Help screen
-->

<div class="doc-footer">
<button id="toggleDetails" class="button happy-button">Expand All Sections</button>&emsp;
<a href="#top">Top</a>
&nbsp;&nbsp;&nbsp;
<a href="#table-of-contents">Contents</a> 
&nbsp;&nbsp;&nbsp;  
<a href="#f-examples-a-primer">Examples</a>
&nbsp;&nbsp;&nbsp; 
<a href="#f-syntax-and-other-information">Syntax</a>
&nbsp;&nbsp;&nbsp; 
<a href="#appendices">Appendices</a>
&nbsp;&nbsp;&nbsp; 
<a href="#copyright">Copyright</a>
&nbsp;&nbsp;&nbsp; 
<button onclick="closeWindowNow()" class="button warn-button">Close Window</span></button>
</div>

<hr />
<br>
<span id="copyright" style="font-family:cursive;">
Copyright <big>¬©</big> 2025 Sam the Cat Foundation. [20251023T172522]
</span>
<br> 
</div> <!-- End div for right-margin-bar --> 

<!-- a hidden modal expression -->

<div id="pAlertMsg" class="pAlertMsg">
  <span id="pAlertPfx"  style="font-size: 50px;">
  </span> 
  <span id="pAlertText" 
        style="font-weight: bold; font-size: 20px;font-family: Tahoma,  sans-serif;">
  </span>
</div>

<!-- (C) 2025 Sam the Cat Foundation -->
</body>
</html>
